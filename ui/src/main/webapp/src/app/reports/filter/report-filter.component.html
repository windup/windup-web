<h2>Report Filter</h2>

<div *ngIf="!isFilterUpToDate" class="alert alert-warning alert-dismissable">
    <span class="pficon pficon-warning-triangle-o"></span>
    Applications displayed in filter are corresponding to last execution state.
    Current Application Group has different applications set, please run a new analysis to get updated results.
</div>

<form class="form-horizontal">
    <fieldset>
        <div class="form-group">
            <label class="col-sm-2 control-label">Selected Applications</label>
            <div class="col-sm-10">
                <chosen-multiple [getLabel]="appSelectConfig.getLabel"
                                 [compareWith]="appSelectConfig.comparator"
                                 [(ngModel)]="filter.selectedApplications"
                                 [options]="filterApplications"
                                 name="selectedApplications">
                </chosen-multiple>
                <span class="help-block">Please select some application</span>
            </div>
        </div>
        <div class="form-group">
            <label class="col-sm-2 control-label">Include Tags</label>
            <div class="col-sm-10">
                <chosen-multiple [getLabel]="categoryTagSelectConfig.getLabel"
                                 [compareWith]="categoryTagSelectConfig.comparator"
                                 [(ngModel)]="filter.includeTags"
                                 [options]="tags"
                                 name="includeTags">
                </chosen-multiple>
            </div>
        </div>
        <div class="form-group">
            <label class="col-sm-2 control-label">Exclude Tags</label>
            <div class="col-sm-10">
                <chosen-multiple [getLabel]="categoryTagSelectConfig.getLabel"
                                 [compareWith]="categoryTagSelectConfig.comparator"
                                 [(ngModel)]="filter.excludeTags"
                                 [options]="tags"
                                 name="excludeTags">
                </chosen-multiple>
            </div>
        </div>
        <div class="form-group">
            <label class="col-sm-2 control-label">Include Categories</label>
            <div class="col-sm-10">
                <chosen-multiple [getLabel]="categoryTagSelectConfig.getLabel"
                                 [compareWith]="categoryTagSelectConfig.comparator"
                                 [(ngModel)]="filter.includeCategories"
                                 [options]="categories"
                                 name="includeCategories">
                </chosen-multiple>
            </div>
        </div>
        <div class="form-group">
            <label class="col-sm-2 control-label">Exclude Categories</label>
            <div class="col-sm-10">
                <chosen-multiple [getLabel]="categoryTagSelectConfig.getLabel"
                                 [compareWith]="categoryTagSelectConfig.comparator"
                                 [(ngModel)]="filter.excludeCategories"
                                 [options]="categories"
                                 name="excludeCategories">
                </chosen-multiple>
            </div>
        </div>
        <div class="form-group">
            <div class="col-sm-2 control-label"></div>
            <label for="enable-filter" class="col-sm-10">
                <input type="checkbox" [(ngModel)]="filter.enabled" id="enable-filter" name="exampleInputError"> Enable filter
            </label>
        </div>
        <div class="form-group">
            <div class="col-sm-offset-2 col-sm-10">
                <button (click)="saveFilter()" class="btn btn-primary">Save</button>
                <button (click)="cancel()" class="btn btn-default">Cancel</button>
                <button (click)="resetFilter()" class="btn btn-danger" >Reset</button>
            </div>
        </div>
    </fieldset>
</form>
